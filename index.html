<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚«ã‚¹MBTI</title>
    <style>
        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 900px;
            width: 100%;
            text-align: center;
        }

        /* ã‚¿ã‚¤ãƒˆãƒ« */
        h1 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #2c3e50;
            font-weight: 900;
            letter-spacing: 2px;
        }

        .hidden {
            display: none;
        }

        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
        .progress-container {
            width: 100%;
            background-color: #eee;
            border-radius: 10px;
            margin-bottom: 40px;
            height: 10px;
        }

        .progress-bar {
            height: 100%;
            background-color: #3498db;
            border-radius: 10px;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* è³ªå•æ–‡ */
        #question-text {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 50px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ãƒœã‚¿ãƒ³é…ç½® */
        .options {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4ç­‰åˆ† */
            gap: 15px;
        }

        .option-btn {
            padding: 20px 5px;
            border: 2px solid #e0e0e0; /* æ ç·šã¯ã‚°ãƒ¬ãƒ¼ã§çµ±ä¸€ */
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.2s;
            color: #555;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80px;
            background: white; /* èƒŒæ™¯ã¯å…¨ã¦ç™½ */
        }

            .option-btn:hover {
                transform: translateY(-2px);
                background-color: #fafafa; /* ãƒ›ãƒãƒ¼æ™‚ã¯ã»ã‚“ã®å°‘ã—ã‚°ãƒ¬ãƒ¼ã« */
            }

            .option-btn:active {
                transform: scale(0.98);
            }


        /* å…¨ããã†æ€ã‚ãªã„ï¼ˆå·¦ç«¯ï¼‰ï¼šé’ */
        .btn-disagree-strong {
            border-top: 5px solid #3498db;
        }

            .btn-disagree-strong:hover {
                border-top-color: #2980b9;
                color: #2980b9;
            }

        /* ã©ã¡ã‚‰ã‹ã¨è¨€ãˆã°ãã†æ€ã‚ãªã„ï¼ˆå·¦ä¸­ï¼‰ï¼šè–„ã„é’ */
        .btn-disagree-weak {
            border-top: 5px solid #85c1e9;
        }

            .btn-disagree-weak:hover {
                border-top-color: #5dade2;
                color: #5dade2;
            }

        /* ã©ã¡ã‚‰ã‹ã¨è¨€ãˆã°ãã†æ€ã†ï¼ˆå³ä¸­ï¼‰ï¼šè–„ã„èµ¤ */
        .btn-agree-weak {
            border-top: 5px solid #f1948a;
        }

            .btn-agree-weak:hover {
                border-top-color: #ec7063;
                color: #ec7063;
            }

        /* éå¸¸ã«ãã†æ€ã†ï¼ˆå³ç«¯ï¼‰ï¼šèµ¤ */
        .btn-agree-strong {
            border-top: 5px solid #e74c3c;
        }

            .btn-agree-strong:hover {
                border-top-color: #c0392b;
                color: #c0392b;
            }


        /* çµæœç”»é¢ */
        .result-header {
            font-size: 14px;
            color: #999;
            margin-bottom: 10px;
        }

        .result-main {
            font-size: 2.2rem;
            font-weight: 900;
            color: #2c3e50;
            margin: 10px 0 20px 0;
            line-height: 1.3;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            white-space: nowrap;
            overflow-x: auto;
        }

        .result-sub {
            font-size: 1.4rem;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 30px;
        }

        .result-desc {
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 40px;
            line-height: 1.8;
            white-space: pre-wrap;
            text-align: left;
            background: #fff;
            padding: 0 20px;
        }

        .share-btn {
            display: inline-block;
            background-color: #000;
            color: white;
            padding: 15px 40px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: opacity 0.2s;
        }

            .share-btn:hover {
                opacity: 0.8;
            }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            .options {
                grid-template-columns: 1fr 1fr;
            }

            .result-main {
                font-size: 1.5rem;
                white-space: normal;
            }
        }
    </style>
</head>
<body>

    <div class="container" id="quiz-container">
        <h1>ã‚«ã‚¹MBTI</h1>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div id="question-text">èª­ã¿è¾¼ã¿ä¸­...</div>

        <div class="options">
            <button class="option-btn btn-disagree-strong" onclick="handleAnswer(-2)">å…¨ã<br>ãã†æ€ã‚ãªã„</button>
            <button class="option-btn btn-disagree-weak" onclick="handleAnswer(-1)">ã©ã¡ã‚‰ã‹ã¨è¨€ãˆã°<br>ãã†æ€ã‚ãªã„</button>
            <button class="option-btn btn-agree-weak" onclick="handleAnswer(1)">ã©ã¡ã‚‰ã‹ã¨è¨€ãˆã°<br>ãã†æ€ã†</button>
            <button class="option-btn btn-agree-strong" onclick="handleAnswer(2)">éå¸¸ã«<br>ãã†æ€ã†</button>
        </div>
    </div>

    <div class="container hidden" id="result-container">
        <div class="result-header">ã‚ãªãŸã®è¨ºæ–­çµæœ</div>

        <div class="result-main" id="result-components"></div>
        <div class="result-sub" id="result-title"></div>
        <div class="result-desc" id="result-description"></div>

        <a href="#" class="share-btn" id="twitter-share" target="_blank">ğ• ã§çµæœã‚’ã‚·ã‚§ã‚¢</a>
        <br><br>
        <button onclick="location.reload()" style="background:none; border:none; color:#999; cursor:pointer; text-decoration:underline;">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
    </div>

    <script>
        // â–¼ å…¬é–‹ç”¨URL â–¼
        const appUrl = "https://github.com/pometani/kasu-mbti";

        // è³ªå•ãƒªã‚¹ãƒˆ
        // direction: 1  -> ã€Œãã†æ€ã†ã€ã§ãƒã‚¸ãƒ†ã‚£ãƒ–åŠ ç‚¹ï¼ˆç†±è¡€ãƒ»ãƒ¦ãƒ¼ãƒ¢ã‚¢ãƒ»ãƒ‡ãƒªã‚«ã‚·ãƒ¼ãƒ»ã‚®ãƒãƒ¼ï¼‰
        // direction: -1 -> ã€Œãã†æ€ã†ã€ã§ãƒã‚¬ãƒ†ã‚£ãƒ–åŠ ç‚¹ï¼ˆå†·ç¬‘ãƒ»å³æ ¼ãƒ»ãƒãƒ³ãƒ‡ãƒªãƒ»ãƒ†ã‚¤ã‚«ãƒ¼ï¼‰
        const questions = [
            // --- Eè»¸: ç†±è¡€ vs å†·ç¬‘ ---
            // ç†±è¡€å´(+1)
            { text: "ç‰©èªã‚„éŸ³æ¥½ã§æ„Ÿå‹•ã—ã¦ã€æ³£ãã“ã¨ãŒå¤šã„ã€‚", axis: "E", direction: 1 },
            { text: "åŠªåŠ›ã¯è©•ä¾¡ã•ã‚Œã‚‹ã¹ãã§ã€ãã‚Œã‚’ç¬‘ã†äººã‚’è¦‹ã‚‹ã¨å«Œãªæ°—æŒã¡ã«ãªã‚‹ã€‚", axis: "E", direction: 1 },
            // å†·ç¬‘å´(-1)
            { text: "MBTIã‚’æ ¹æ‹ ã«è‡ªåˆ†ã‚„ä»–äººã«ã¤ã„ã¦èªã£ã¦ã„ã‚‹äººã‚’è¦‹ã‚‹ã¨ã€æ­£ç›´ãŠã‚‚ã—ã‚ã„ã€‚", axis: "E", direction: -1 },
            { text: "è‡ªåˆ†ã‚ˆã‚ŠåŠ£ã£ã¦ã„ã‚‹äººãŒåŠªåŠ›ã—ã¦ã„ã‚‹ã¨ã€æ°—æŒã¡ã‚ˆãæ„Ÿã˜ã‚‹ã€‚", axis: "E", direction: -1 },

            // --- Hè»¸: ãƒ¦ãƒ¼ãƒ¢ã‚¢ vs å³æ ¼ ---
            // ãƒ¦ãƒ¼ãƒ¢ã‚¢å´(+1)
            { text: "é¢ç™½ã„ã“ã¨ã‚’è€ƒãˆã¦ã€å‘¨å›²ã«è©±ã—ãŸã‚Šå®Ÿè¡Œã—ãŸã„ã€‚", axis: "H", direction: 1 },
            { text: "å ´ãŒç››ã‚Šä¸ŠãŒã‚‹ãªã‚‰ã€å˜˜ã‚’ã¤ã„ãŸã‚Šè©±ã‚’ç››ã£ãŸã‚Šã—ã¦ã‚‚è¨±ã•ã‚Œã‚‹ã¨æ€ã†ã€‚", axis: "H", direction: 1 },
            // å³æ ¼å´(-1)
            { text: "å‘¨ã‚Šã®äººãŒç¬‘ã£ã¦ã„ã‚‹ç™ºè¨€ã®é¢ç™½ã•ãŒã€ã‚ã¾ã‚Šç†è§£ã§ããªã„ã“ã¨ãŒã‚ã‚‹ã€‚", axis: "H", direction: -1 },
            { text: "è‡ªåˆ†ã¯ã‚ã¾ã‚Šã‚¦ã‚±ç‹™ã„ã®ç™ºè¨€ã‚’ã—ãªã„ãŒã€ä»–è€…ã®ç™ºè¨€ãŒé¢ç™½ã„ã‹ã©ã†ã‹ã¯ã‚ˆãè©•ä¾¡ã—ã¦ã„ã‚‹ã€‚", axis: "H", direction: -1 },

            // --- Dè»¸: ç¹Šç´°(ãƒ‡ãƒªã‚«ã‚·ãƒ¼) vs ç„¡ç¥çµŒ ---
            // ãƒ‡ãƒªã‚«ã‚·ãƒ¼å´(+1)
            { text: "ãƒ¡ãƒ¼ãƒ«ã‚’é€ã£ãŸå¾Œã€ã€Œå¤±ç¤¼ãªè¡¨ç¾ã¯ãªã‹ã£ãŸã‹ã€ã¨ä½•åº¦ã‚‚èª­ã¿è¿”ã—ã¦ä¸å®‰ã«ãªã‚‹ã€‚", axis: "D", direction: 1 },
            { text: "äººã®ã‚¹ãƒãƒ›ç”»é¢ãŒè¦–ç•Œã«å…¥ã£ãŸã¨ãã€ã§ãã‚‹ã ã‘è¦‹ãªã„ã‚ˆã†ã«ã™ã‚‹ã€‚", axis: "D", direction: 1 },
            // ç„¡ç¥çµŒå´(-1)
            { text: "ã€Œå¤ªã£ãŸï¼Ÿã€ã‚„ã€Œæ‹äººã¨åˆ¥ã‚ŒãŸï¼Ÿã€ãªã©ã€æ°—ã«ãªã£ãŸã“ã¨ã¯æœ¬äººã«ç›´æ¥èãã¹ãã ã€‚", axis: "D", direction: -1 },
            { text: "å…¬å…±ã®å ´ã§ã‚«ãƒƒãƒ—ãƒ«ãŒå–§å˜©ã—ã¦ã„ã‚‹ã¨ã€èãè€³ã‚’ç«‹ã¦ã¦å†…å®¹ã‚’ç¢ºèªã—ãŸããªã‚‹ã€‚", axis: "D", direction: -1 },

            // --- Gè»¸: ã‚®ãƒãƒ¼(å¥‰ä»•) vs ãƒ†ã‚¤ã‚«ãƒ¼(æ¾å–) ---
            // ã‚®ãƒãƒ¼å´(+1)
            { text: "é“ã«ã‚´ãƒŸãŒè½ã¡ã¦ã„ã‚‹ã¨ã€èª°ãŒè¦‹ã¦ã„ãªãã¦ã‚‚æ‹¾ã„ãŸã„ã¨æ€ã†ã€‚", axis: "G", direction: 1 },
            { text: "è‡ªåˆ†ãŒæã‚’ã—ã¦ã§ã‚‚ã€ä»–äººãŒå–œã‚“ã§ãã‚Œã‚‹ãªã‚‰ãã‚Œã§ã„ã„ã€‚", axis: "G", direction: 1 },
            // ãƒ†ã‚¤ã‚«ãƒ¼å´(-1)
            { text: "å‹äººã‚„æ‹äººã¯è‡ªåˆ†ã®ãŸã‚ã«ç²¾ä¸€æ¯å°½ãã—ã¦ã»ã—ã„ã€‚", axis: "G", direction: -1 },
            { text: "ã€Œèª°ã‹ã‚„ã£ã¦ãŠã„ã¦ã€ã¨ã„ã†ç©ºæ°—ãŒæµã‚ŒãŸã‚‰ã€çµ¶å¯¾ã«ç›®ã‚’åˆã‚ã›ãšæ°—é…ã‚’æ¶ˆã™ã€‚", axis: "G", direction: -1 }
        ];

        const typeNames = {
            E: "ç†±è¡€", C: "å†·ç¬‘",
            H: "ãƒ¦ãƒ¼ãƒ¢ã‚¢", S: "å³æ ¼",
            D: "ãƒ‡ãƒªã‚«ã‚·ãƒ¼", N: "ãƒãƒ³ãƒ‡ãƒª",
            G: "ã‚®ãƒãƒ¼", T: "ãƒ†ã‚¤ã‚«ãƒ¼"
        };

        const results = {
            // å…¨ã¦ãƒã‚¸ãƒ†ã‚£ãƒ–
            "EHDG": { title: "æ­©ããƒ‘ãƒ¯ãƒ¼ã‚¹ãƒãƒƒãƒˆ", desc: "ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚ã‚ãªãŸã¯ç†±ã„ãƒãƒ¼ãƒˆã¨ãƒ¦ãƒ¼ãƒ¢ã‚¢ã‚’æŒã¡ã€æ°—é…ã‚Šã‚‚ã§ãã¦ä»–äººã«å°½ãã›ã‚‹è–äººå›å­ã§ã™ã€‚\nã“ã®è¨ºæ–­ã«ãŠã‘ã‚‹å”¯ä¸€ã®ã€Œè‰¯å¿ƒã€ã§ã™ã€‚ã©ã†ã‹ãã®ã¾ã¾ã§ã„ã¦ãã ã•ã„ã€‚" },

            // 1ã¤ã ã‘ãƒã‚¬ãƒ†ã‚£ãƒ–
            "EHDT": { title: "å£°ãƒ‡ã‚«ã„ã ã‘ã®é£²ã¿ä¼šãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼", desc: "æ˜ã‚‹ãã¦é¢ç™½ã„äººæ°—è€…ã§ã™ãŒã€ã¡ã‚ƒã£ã‹ã‚Šå¥¢ã‚‰ã‚Œã‚ˆã†ã¨ã™ã‚‹ãƒ†ã‚¤ã‚«ãƒ¼æ°—è³ªãŒã‚ã‚Šã¾ã™ã€‚ã€Œé‡‘ã¯å‡ºã•ãªã„ãŒå£ã¯å‡ºã™ã€ã‚¿ã‚¤ãƒ—ã€‚" },
            "EHNG": { title: "ç„¡ç¥çµŒãªç†±è¡€æ¼¢", desc: "æƒ…ã«åšãè¦ªåˆ‡ã§ã™ãŒã€ãƒ‡ãƒªã‚«ã‚·ãƒ¼ãŒå£Šæ»…ã—ã¦ã„ã¾ã™ã€‚è‰¯ã‹ã‚Œã¨æ€ã£ã¦ä½™è¨ˆãªã“ã¨ã‚’è¨€ã„ã€ç›¸æ‰‹ã‚’å‚·ã¤ã‘ã‚‹ã€Œã‚ã‚ŠãŒãŸè¿·æƒ‘ã€ã®é”äººã€‚" },
            "ESDG": { title: "ç”ŸçœŸé¢ç›®ãªãƒ‘ã‚·ãƒª", desc: "çœŸé¢ç›®ã§æ°—é…ã‚Šã‚‚å®Œç’§ã§ã™ãŒã€é¢ç™½ã¿ãŒãªã„ãŸã‚éƒ½åˆã‚ˆãä½¿ã‚ã‚ŒãŒã¡ã€‚ã‚‚ã†å°‘ã—ãƒ¯ã‚¬ãƒãƒã«ãªã£ã¦ã‚‚ã„ã„ã®ã§ã¯ï¼Ÿ" },
            "CHDG": { title: "æ–œã«æ§‹ãˆãŸãƒ”ã‚¨ãƒ­", desc: "çš®è‚‰å±‹ã ã‘ã©å®Ÿã¯ã‚¤ã‚¤å¥´ã€‚ç´ ç›´ã«ãªã‚Œãšã€èŒ¶åŒ–ã™ã“ã¨ã§ã—ã‹ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå–ã‚Œãªã„å¯å“€æƒ³ãªã‚¿ã‚¤ãƒ—ã€‚" },

            // 2ã¤ãƒã‚¸ãƒ†ã‚£ãƒ–ãƒ»2ã¤ãƒã‚¬ãƒ†ã‚£ãƒ–
            "EHNT": { title: "æ­©ãé¨’éŸ³å…¬å®³", desc: "å…ƒæ°—ã§é¢ç™½ã„ã§ã™ãŒã€ãƒ‡ãƒªã‚«ã‚·ãƒ¼ã‚‚ãªã‘ã‚Œã°é‡‘ã‚‚å‡ºã—ã¾ã›ã‚“ã€‚ã‚ãªãŸã®å‘¨ã‚Šã ã‘æ²»å®‰ãŒæ‚ªã„ã§ã™ã€‚" },
            "ESDT": { title: "è¨ˆç®—é«˜ã„å„ªç­‰ç”Ÿ", desc: "è¡¨å‘ãã¯çœŸé¢ç›®ã§ä½å§¿å‹¢ã§ã™ãŒã€æå¾—å‹˜å®šã§ã—ã‹å‹•ã„ã¦ã„ã¾ã›ã‚“ã€‚çµ¶å¯¾ã«å°»å°¾ã‚’å‡ºã•ãªã„ç­–å£«ã€‚" },
            "ESNG": { title: "ç©ºæ°—èª­ã‚ãªã„å§”å“¡é•·", desc: "æ­£è«–ã§æ®´ã£ã¦ãã‚‹ä¸Šã«ã€é ¼ã‚“ã§ã‚‚ãªã„ã®ã«æ‰‹ä¼ãŠã†ã¨ã—ã¾ã™ã€‚å–„æ„100%ã®è¡Œå‹•ãŒå‘¨å›²ã‚’ç–²å¼Šã•ã›ã¦ã„ã¾ã™ã€‚" },
            "CSDG": { title: "æ°—é…ã‚Šè‡ªæ»…é™°ã‚­ãƒ£", desc: "èª°ã«ã‚‚å«Œã‚ã‚ŒãŸããªã„ã‚ã¾ã‚Šã€å­˜åœ¨æ„ŸãŒæ¶ˆãˆã¦ã„ã¾ã™ã€‚å†·ã‚ã¦ã„ã‚‹ã‚ˆã†ã§ã€å®Ÿã¯å†…å¿ƒãƒ“ã‚¯ãƒ“ã‚¯ã—ã¦ã„ã‚‹ã ã‘ã‹ã‚‚ã€‚" },
            "CHDT": { title: "å£ã ã‘ã®æ‰¹è©•å®¶", desc: "å®‰å…¨åœã‹ã‚‰èŒ¶åŒ–ã™ã ã‘ã§ã€è‡ªåˆ†ã§ã¯ä½•ã‚‚ã—ã¾ã›ã‚“ã€‚ä»–äººã®å¤±æ•—ã¯èœœã®å‘³ã€‚" },
            "CHNG": { title: "ã‚µã‚¤ã‚³ãƒ‘ã‚¹ï¼ˆç¬‘ï¼‰äºˆå‚™è»", desc: "äººã®ä¸å¹¸ã‚’ç¬‘ã„ã€ç„¡ç¥çµŒãªç™ºè¨€ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ãŒã€å¤‰ãªã¨ã“ã‚ã§è¦ªåˆ‡å¿ƒã‚’è¦‹ã›ã‚‹è¬ã®äººç‰©ã€‚" },

            // ã‹ãªã‚Šãƒã‚¬ãƒ†ã‚£ãƒ–
            "ESNT": { title: "å†·å¾¹ãªç‹¬è£è€…", desc: "ãƒ«ãƒ¼ãƒ«ã¯ä»–äººã«å®ˆã‚‰ã›ã¾ã™ãŒã€è‡ªåˆ†ã¯å®ˆã‚Šã¾ã›ã‚“ã€‚æˆæœã‚’æ±‚ã‚ã‚‹å§¿å‹¢ã ã‘ã¯ä¸€äººå‰ã€‚" },
            "CSDT": { title: "çœã‚¨ãƒä¸»ç¾©ã®äº‹ãªã‹ã‚Œä¸»ç¾©", desc: "ã€Œè‡ªåˆ†ã¯é–¢ä¿‚ãªã„ã‚“ã§ã€ãŒå£ç™–ã€‚è²¬ä»»é€ƒã‚Œã®ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã€‚æ±ºå®šæ‰“ãŒç„¡ã„ã‹ã‚‰ã¾ã å«Œã‚ã‚Œã¦ã„ãªã„ã ã‘" },
            "CSNG": { title: "AIä»¥ä¸‹ã®ã‚³ãƒŸãƒ¥åŠ›", desc: "æ‚ªæ°—ã¯ãªã„ã®ã§ã™ãŒã€äººã®å¿ƒãŒãªã„ç™ºè¨€ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚ã—ã‹ã‚‚é¢ç™½ããªã„ã€‚æ„Ÿæƒ…ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å®Ÿè£…ã‚’å¿˜ã‚Œã¦ç”Ÿã¾ã‚Œã¦ããŸã‚ˆã†ã§ã™ã€‚" },
            "CHNT": { title: "ãƒãƒƒãƒˆå¼æ…¶ã®ç…½ã‚Šé­”", desc: "ãƒªã‚¢ãƒ«ã§ã¯å¤§äººã—ã„ã§ã™ãŒã€å¿ƒã®ä¸­ã§ã¯å…¨å“¡ã‚’è¦‹ä¸‹ã—ã¦ã„ã¾ã™ã€‚ã‚¹ãƒãƒ¼ãƒ„ã¨ã‹åˆã‚ã¦ã¿ã¦ã¯ï¼Ÿ" },

            // å…¨ã¦ãƒã‚¬ãƒ†ã‚£ãƒ–
            "CSNT": { title: "è™šç„¡", desc: "ç†±æ„ãªã—ã€ç¬‘ã„ãªã—ã€ãƒ‡ãƒªã‚«ã‚·ãƒ¼ãªã—ã€å¥‰ä»•ç²¾ç¥ãªã—ã€‚é€†ã«ä½•ãŒæ¥½ã—ãã¦ç”Ÿãã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã€‚" }
        };

        let currentQuestionIndex = 0;
        let scores = { E: 0, H: 0, D: 0, G: 0 };

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        shuffle(questions);
        showQuestion();

        function showQuestion() {
            const q = questions[currentQuestionIndex];
            document.getElementById('question-text').innerText = `Q${currentQuestionIndex + 1}. ${q.text}`;
            const progress = ((currentQuestionIndex) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function handleAnswer(value) {
            const q = questions[currentQuestionIndex];
            scores[q.axis] += value * q.direction;
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('result-container').classList.remove('hidden');

            const typeE = scores.E >= 0 ? 'E' : 'C';
            const typeH = scores.H >= 0 ? 'H' : 'S';
            const typeD = scores.D >= 0 ? 'D' : 'N';
            const typeG = scores.G >= 0 ? 'G' : 'T';

            const componentText = `${typeNames[typeE]}ãƒ»${typeNames[typeH]}ãƒ»${typeNames[typeD]}ãƒ»${typeNames[typeG]}`;
            const resultKey = typeE + typeH + typeD + typeG;
            const resultData = results[resultKey] || { title: "æœªçŸ¥ã®ç”Ÿå‘½ä½“", desc: "åˆ¤å®šä¸èƒ½ã§ã™ã€‚" };

            document.getElementById('result-components').innerText = componentText;
            document.getElementById('result-title').innerText = `ï¼ˆ${resultData.title}ï¼‰`;
            document.getElementById('result-description').innerText = resultData.desc;

            const shareText = `ç§ã®æ€§è³ªã¯ã€${componentText}ã€‘\nï¼ˆ${resultData.title}ï¼‰ã§ã—ãŸã€‚\n\n${resultData.desc}\n\n#ã‚«ã‚¹MBTI`;
            const targetUrl = appUrl.startsWith("http") ? appUrl : window.location.href;

            const twitterLink = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(targetUrl)}`;
            document.getElementById('twitter-share').href = twitterLink;
        }
    </script>

</body>

</html>
